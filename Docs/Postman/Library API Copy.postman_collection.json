{
	"info": {
		"_postman_id": "85ee966c-54b0-4799-87ef-f715ebb88694",
		"name": "Entrega 2",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "29809506",
		"_collection_link": "https://sidis6.postman.co/workspace/SIDIS-Workspace~0278ab01-b81e-4cde-8bc8-4d6349c0fa8e/collection/29809506-85ee966c-54b0-4799-87ef-f715ebb88694?action=share&source=collection_link&creator=29809506"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Login Copy",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"Roberta43@hotmail.com\",\r\n  \"password\": \"newPassword\"\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:2001/api/auth/login",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "2001",
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Register Copy",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"username\": \"{{$randomEmail}}\",\r\n  \"fullName\": \"{{$randomUserName}}\",\r\n  \"password\": \"newPassword\",\r\n  \"rePassword\": \"newPassword\",\r\n  \"authorities\": [\r\n    \"ADMIN\"\r\n  ]\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:2001/api/auth/register",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "2001",
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get roles Copy",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJleGFtcGxlLmlvIiwic3ViIjoiMTQsbmV3dXNlckBleGFtcGxlLmNvbSIsImV4cCI6MTczNTMzNjgzNCwiaWF0IjoxNzMyNzQ0ODM0LCJyb2xlcyI6IkFETUlOIn0.O1c90R3NsOVrOhxB_aQKDY27Z3FA4k3oZEJ9ucv11c9eCsi1V-t6ekvHSJilpwAqs0dQbZBK7r_sgGqIc-DzhVCpIq7CMaBvge6TL6Y4g5mw9s1xWlFGGCwfTNtJI5V2qLc-AUwp84PGn_IWPpQoHwXtSTjmm5t8J8zyyPjy1is7nf8XAXXgV6oFmuvd6MNKAZ8FbVOEc6lsa56V7poYxe7XlrjfuINMRLn44MBC7eNLUjyZOorVCyqYCnsGZgnmxAWv2l0tFmT6LBBCKz_bgrOvqVahBRb6K-yFJo-exmh0gyIYjvaL3NwLnHzTqMX2m8TxRwiV7rzLdK06SOf81_bb1JnNWm7EyAfjXiEeQlzxWoM3i2GX7YX2-gkLi8L4xqh0hUkgyHWkfWbQKLLEc-22vMTW0ANokxLe25tpT-ftZEXt9R1s6DDfh25Vkse0mbIE0oHFFrqrivJNLHt50yI2wOu5R6qdybqWZPkOkyIS5fjjwxRMP_IfbVgN59ylrXZQeyseXAGsToRo_mItDErmMcNozEY8kDYE2Fx5oXjnAip0XJ4WwqiAdl9lKzTfCltkf81Jk1RTKl2sKjYLQicmOb_A03ozaWTQIEwLFGpo4BXfcvGKHOaRVf2uEaWmYy22KR_hayP9KAQtnVT4oRfEvEY03V3rA64Y7x5EmI0",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:2001/api/auth/roles",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "2001",
							"path": [
								"api",
								"auth",
								"roles"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "BookCom",
			"item": [
				{
					"name": "Set Cover To Book Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 201\", function () {\r",
									"  pm.expect(pm.response.code).to.equal(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Response has the required fields\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"\r",
									"    pm.expect(responseData).to.be.an('object');\r",
									"    pm.expect(responseData.fileName).to.exist;\r",
									"    pm.expect(responseData.fileDownloadUri).to.exist;\r",
									"    pm.expect(responseData.fileType).to.exist;\r",
									"    pm.expect(responseData.size).to.exist;\r",
									"});\r",
									"\r",
									"pm.test(\"File type is in a valid format\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"    \r",
									"    pm.expect(responseData).to.be.an('object');\r",
									"    pm.expect(responseData.fileType).to.exist.and.to.be.a('string');\r",
									"    // Add additional validation for specific file type format if required\r",
									"});\r",
									"\r",
									"pm.test(\"Response time is less than 500ms\", function () {\r",
									"  pm.expect(pm.response.responseTime).to.be.below(500);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "postman-cloud:///1ef2fd82-10bd-4640-95fd-639f3e7c01c5"
								}
							]
						},
						"url": {
							"raw": "http://localhost:3001/api/books/5/cover",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3001",
							"path": [
								"api",
								"books",
								"5",
								"cover"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Book With Optional Cover Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 201\", function () {",
									"    pm.expect(pm.response.code).to.equal(201);",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 500ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(500);",
									"});",
									"",
									"",
									"pm.test(\"Validate the response schema for the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.id).to.exist;",
									"    pm.expect(responseData.isbn).to.exist;",
									"    pm.expect(responseData.title).to.exist;",
									"    pm.expect(responseData.genre).to.exist;",
									"    pm.expect(responseData.description).to.exist;",
									"    pm.expect(responseData.bookAuthors).to.exist;",
									"});",
									"",
									"",
									"pm.test(\"Ensure that the genre name is a non-empty string\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.genre.name).to.be.a('string').and.to.have.lengthOf.at.least(1, \"Genre name should not be empty\");",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "book",
									"value": "{\n    \"isbn\": \"9798666830864\",\n    \"title\": \"Sample Book\",\n    \"genre\": {\n        \"id\": 3,\n        \"name\": \"Mystery\"\n    },\n    \"description\": \"A sample book description\",\n    \"bookAuthors\": [\n        {\n            \"author\": {\n                \"name\": \"James Clear\",\n                \"shortBio\": \"An author and speaker focused on habits, decision-making, and continuous improvement.\"\n            }\n        },\n        {\n            \"author\": {\n                \"name\": \"Stephen R. Covey\",\n                \"shortBio\": \"An American educator, author, businessman, and keynote speaker.\"\n            }\n        }\n    ]\n}",
									"contentType": "application/json",
									"type": "text"
								},
								{
									"key": "cover",
									"type": "file",
									"src": "postman-cloud:///1ef227e9-07dc-4540-b53c-be9fc9eea1d3"
								}
							]
						},
						"url": {
							"raw": "http://localhost:3001/api/books",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3001",
							"path": [
								"api",
								"books"
							]
						}
					},
					"response": [
						{
							"name": "Create Book With Optional Cover Copy",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "book",
											"value": "{\n    \"isbn\": \"9798666830864\",\n    \"title\": \"Bal Book\",\n    \"genre\": {\n        \"id\": 3,\n        \"name\": \"Mystery\"\n    },\n    \"description\": \"A sample book description\",\n    \"bookAuthors\": [\n        {\n            \"author\": {\n                \"name\": \"James Clear\",\n                \"shortBio\": \"An author and speaker focused on habits, decision-making, and continuous improvement.\"\n            }\n        },\n        {\n            \"author\": {\n                \"name\": \"Stephen R. Covey\",\n                \"shortBio\": \"An American educator, author, businessman, and keynote speaker.\"\n            }\n        }\n    ]\n}",
											"contentType": "application/json",
											"type": "text"
										},
										{
											"key": "cover",
											"type": "file",
											"src": "postman-cloud:///1ef227e9-07dc-4540-b53c-be9fc9eea1d3"
										}
									]
								},
								"url": {
									"raw": "http://localhost:3001/api/books",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "3001",
									"path": [
										"api",
										"books"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "Location",
									"value": "http://localhost:3001/api/books/21"
								},
								{
									"key": "ETag",
									"value": "\"0\""
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Wed, 27 Nov 2024 22:09:56 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": 21,\n    \"isbn\": \"9798666830864\",\n    \"title\": \"Sample Book\",\n    \"genre\": {\n        \"name\": \"Mystery\"\n    },\n    \"description\": \"A sample book description\",\n    \"bookAuthors\": []\n}"
						}
					]
				},
				{
					"name": "Complete Book Edit Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"  pm.expect(pm.response.code).to.equal(200);",
									"});",
									"",
									"",
									"pm.test(\"Response Content-Type header is application/json\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"",
									"pm.test(\"Validate the response schema\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.id).to.exist.and.to.be.a('number');",
									"    pm.expect(responseData.isbn).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.title).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.genre).to.exist.and.to.be.an('object');",
									"    pm.expect(responseData.description).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.bookAuthors).to.exist.and.to.be.an('array');",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "If-Match",
								"value": "0"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "    {\n        \"isbn\": \"9780735211293\",\n        \"title\": \"Atokmic Habits\",\n        \"genre\": {\n            \"id\": 3,\n            \"name\": \"Mystery\"\n         },\n        \"description\": \"122231\",\n        \"bookAuthors\": [\n            {\n                \"author\": {\n                    \"id\": 2,\n                    \"name\": \"James Clear\",\n                    \"shortBio\": \"An author and speaker focused on habits, decision-making, and continuous improvement.\"\n                }\n            }\n        ]\n    }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:3001/api/books/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3001",
							"path": [
								"api",
								"books",
								"1"
							]
						}
					},
					"response": [
						{
							"name": "Complete Book Edit Copy",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "If-Match",
										"value": "0"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "    {\n        \"isbn\": \"9780735211293\",\n        \"title\": \"Atokmic Habits\",\n        \"genre\": {\n            \"id\": 3,\n            \"name\": \"Mystery\"\n         },\n        \"description\": \"122231\",\n        \"bookAuthors\": [\n            {\n                \"author\": {\n                    \"id\": 2,\n                    \"name\": \"James Clear\",\n                    \"shortBio\": \"An author and speaker focused on habits, decision-making, and continuous improvement.\"\n                }\n            }\n        ]\n    }",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:3001/api/books/1",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "3001",
									"path": [
										"api",
										"books",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "ETag",
									"value": "\"1\""
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Wed, 27 Nov 2024 22:10:08 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": 1,\n    \"isbn\": \"9781982137274\",\n    \"title\": \"Atokmic Habits\",\n    \"genre\": {\n        \"name\": \"Mystery\"\n    },\n    \"description\": \"122231\",\n    \"bookAuthors\": [\n        {\n            \"author\": \"James Clear\",\n            \"shortBio\": \"An author and speaker focused on habits, decision-making, and continuous improvement.\"\n        }\n    ]\n}"
						}
					]
				},
				{
					"name": "Partial Book Edit Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.expect(pm.response.code).to.equal(200);",
									"});",
									"",
									"",
									"pm.test(\"ISBN is a non-empty string\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.isbn).to.be.a('string').and.to.have.lengthOf.at.least(1, \"ISBN should not be empty\");",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "If-Match",
								"value": "0"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "    {\n        \"id\": 2,\n        \"title\": \"joao o cavaleiro\",\n        \"isbn\": \"9781982137274\"\n    }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:3001/api/books/4",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3001",
							"path": [
								"api",
								"books",
								"4"
							]
						}
					},
					"response": [
						{
							"name": "Partial Book Edit Copy",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"key": "If-Match",
										"value": "0"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "    {\n        \"id\": 2,\n        \"title\": \"joao o cavaleiro\",\n        \"isbn\": \"9781982137274\"\n    }",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:3001/api/books/4",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "3001",
									"path": [
										"api",
										"books",
										"4"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "ETag",
									"value": "\"1\""
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Wed, 27 Nov 2024 22:10:22 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": 4,\n    \"isbn\": \"9780345472328\",\n    \"title\": \"joao o cavaleiro\",\n    \"genre\": {\n        \"name\": \"Science Fiction\"\n    },\n    \"description\": null,\n    \"bookAuthors\": [\n        {\n            \"author\": \"Frank Herbert\",\n            \"shortBio\": \"An American science fiction writer best known for the novel Dune.\"\n        }\n    ]\n}"
						}
					]
				}
			]
		},
		{
			"name": "BookQuery",
			"item": [
				{
					"name": "Book By ISBN Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									"",
									"",
									"pm.test(\"Response has the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.id).to.exist;",
									"    pm.expect(responseData.isbn).to.exist;",
									"    pm.expect(responseData.title).to.exist;",
									"    pm.expect(responseData.genre).to.exist;",
									"    pm.expect(responseData.description).to.exist;",
									"    pm.expect(responseData.bookAuthors).to.exist;",
									"});",
									"",
									"",
									"pm.test(\"Genre object contains the required field 'name'\", function () {",
									"  const responseData = pm.response.json();",
									"  ",
									"  pm.expect(responseData).to.be.an('object');",
									"  pm.expect(responseData.genre).to.exist;",
									"  pm.expect(responseData.genre.name).to.exist;",
									"});",
									"",
									"",
									"pm.test(\"BookAuthors array should contain 'author' and 'shortBio'\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData.bookAuthors).to.be.an('array');",
									"    responseData.bookAuthors.forEach(function(author){",
									"        pm.expect(author).to.have.property('author');",
									"        pm.expect(author).to.have.property('shortBio');",
									"    });",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:3101/api/books/9780062316110",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3101",
							"path": [
								"api",
								"books",
								"9780062316110"
							]
						}
					},
					"response": []
				},
				{
					"name": "Book By Genre, Title and Author Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Response has the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('array');",
									"    ",
									"    responseData.forEach(function(book) {",
									"        pm.expect(book).to.have.property('id');",
									"        pm.expect(book).to.have.property('isbn');",
									"        pm.expect(book).to.have.property('title');",
									"        pm.expect(book).to.have.property('genre');",
									"        pm.expect(book).to.have.property('description');",
									"        pm.expect(book).to.have.property('bookAuthors');",
									"    });",
									"});",
									"",
									"",
									"pm.test(\"Genre object contains a non-empty name field\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('array');",
									"    ",
									"    responseData.forEach(function(book) {",
									"        pm.expect(book.genre.name).to.exist.and.to.have.lengthOf.at.least(1, \"Name field should not be empty\");",
									"    });",
									"});",
									"",
									"",
									"pm.test(\"Book authors array contains non-empty author and shortBio fields\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('array');",
									"    responseData.forEach(function(book) {",
									"        pm.expect(book.bookAuthors).to.be.an('array');",
									"        book.bookAuthors.forEach(function(author) {",
									"            pm.expect(author.author).to.be.a('string').and.to.have.lengthOf.at.least(1, \"Author field should not be empty\");",
									"            pm.expect(author.shortBio).to.be.a('string').and.to.have.lengthOf.at.least(1, \"ShortBio field should not be empty\");",
									"        });",
									"    });",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:3101/api/books?author=Dale Carnegie",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3101",
							"path": [
								"api",
								"books"
							],
							"query": [
								{
									"key": "genre",
									"value": "Self-Improvement",
									"disabled": true
								},
								{
									"key": "title",
									"value": "atomic",
									"disabled": true
								},
								{
									"key": "author",
									"value": "Dale Carnegie"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Book Cover by Book Id Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.expect(pm.response.code).to.equal(200);",
									"});",
									"",
									"",
									"pm.test(\"Content-Type header is 'image/png'\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.equal(\"image/png\");",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 500ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(500);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:3101/api/books/5/cover",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3101",
							"path": [
								"api",
								"books",
								"5",
								"cover"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ReaderCom",
			"item": [
				{
					"name": "Reader With Optional Photo Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "reader",
									"value": "{\n    \"name\": \"Daniel Ribeiro\",\n    \"email\": \"danielribeiro@gmail.com\",\n    \"dateOfBirth\": \"2000-09-20\",\n    \"phoneNumber\": 987654321,\n    \"gdbrconsent\": true\n}",
									"contentType": "application/json",
									"type": "text"
								},
								{
									"key": "photo",
									"type": "file",
									"src": "postman-cloud:///1ef2fd82-10bd-4640-95fd-639f3e7c01c5"
								}
							]
						},
						"url": {
							"raw": "http://localhost:5001/api/readers",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"readers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Photo To Reader Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 500\", function () {\r",
									"    pm.expect(pm.response.code).to.equal(500);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response time is within an acceptable range\", function () {\r",
									"    pm.expect(pm.response.responseTime).to.be.below(1000);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Presence of timestamp, status, error, and path fields in the response schema\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"\r",
									"    pm.expect(responseData).to.be.an('object');\r",
									"    pm.expect(responseData.timestamp).to.exist;\r",
									"    pm.expect(responseData.status).to.exist;\r",
									"    pm.expect(responseData.error).to.exist;\r",
									"    pm.expect(responseData.path).to.exist;\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"contentType": "",
									"type": "file",
									"src": "postman-cloud:///1ef2fd82-10bd-4640-95fd-639f3e7c01c5"
								}
							]
						},
						"url": {
							"raw": "http://localhost:5001/api/readers/5/photo",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"readers",
								"5",
								"photo"
							]
						}
					},
					"response": []
				},
				{
					"name": "Complete Reader Edit Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 500ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(500);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "If-Match",
								"value": "0"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "    {\n        \"name\": \"Francisco Goncalves\",\n        \"email\": \"franciscogoncalves@gmail.com\",\n        \"dateOfBirth\": \"2001-10-14\",\n        \"phoneNumber\": 987654639,\n        \"gdbrconsent\": true\n    }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:5001/api/readers/2",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"readers",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Partial Reader Edit Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 500ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(500);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "If-Match",
								"value": "0"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "    {\n        \"name\": \"Antonio Mendes\",\n        \"email\": \"antoniomendes@gmail.com\"\n    }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:5001/api/readers/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"readers",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ReaderQuery",
			"item": [
				{
					"name": "Reader By Id Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.expect(pm.response.code).to.equal(200);",
									"});",
									"",
									"",
									"pm.test(\"Response has the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData).to.have.property('id');",
									"    pm.expect(responseData).to.have.property('readerCode');",
									"    pm.expect(responseData).to.have.property('name');",
									"    pm.expect(responseData).to.have.property('email');",
									"    pm.expect(responseData).to.have.property('age');",
									"    pm.expect(responseData).to.have.property('phoneNumber');",
									"    pm.expect(responseData).to.have.property('interests');",
									"    pm.expect(responseData).to.have.property('funnyQuote');",
									"    pm.expect(responseData).to.have.property('gdbrconsent');",
									"});",
									"",
									"",
									"pm.test(\"Email is in a valid format\", function () {",
									"  const responseData = pm.response.json();",
									"  ",
									"  pm.expect(responseData.email).to.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/, \"Email format is not valid\");",
									"});",
									"",
									"",
									"pm.test(\"Phone number is a non-negative integer\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData.phoneNumber).to.be.a('number');",
									"    pm.expect(responseData.phoneNumber).to.be.at.least(0, \"Phone number should be non-negative\");",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5101/api/readers/2",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5101",
							"path": [
								"api",
								"readers",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "All Readers Or Filter By Email Or Phone Number Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Response has the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData).to.be.an('array').that.is.not.empty;",
									"",
									"    responseData.forEach(function (reader) {",
									"        pm.expect(reader).to.have.property('id');",
									"        pm.expect(reader).to.have.property('readerCode');",
									"        pm.expect(reader).to.have.property('name');",
									"        pm.expect(reader).to.have.property('email');",
									"        pm.expect(reader).to.have.property('age');",
									"        pm.expect(reader).to.have.property('phoneNumber');",
									"        pm.expect(reader).to.have.property('interests');",
									"        pm.expect(reader).to.have.property('gdbrconsent');",
									"    });",
									"});",
									"",
									"",
									"pm.test(\"Email is in a valid format\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData).to.be.an('array');",
									"    responseData.forEach(function (reader) {",
									"        pm.expect(reader.email).to.be.a('string').and.to.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/, \"Email should be in a valid format\");",
									"    });",
									"});",
									"",
									"",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "phoneNumber",
									"value": "99",
									"type": "text",
									"disabled": true
								},
								{
									"key": "email",
									"value": "outlook.com",
									"type": "text",
									"disabled": true
								},
								{
									"key": "name",
									"value": "Daniel",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:5101/api/readers",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5101",
							"path": [
								"api",
								"readers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Reader Montlhy Lendings Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response has the required fields\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"\r",
									"    pm.expect(responseData).to.be.an('array').that.is.not.empty;\r",
									"\r",
									"    responseData.forEach(reader => {\r",
									"        pm.expect(reader).to.have.property('id');\r",
									"        pm.expect(reader).to.have.property('readerCode');\r",
									"        pm.expect(reader).to.have.property('name');\r",
									"        pm.expect(reader).to.have.property('email');\r",
									"        pm.expect(reader).to.have.property('age');\r",
									"        pm.expect(reader).to.have.property('phoneNumber');\r",
									"        pm.expect(reader).to.have.property('interests');\r",
									"        pm.expect(reader).to.have.property('lents');\r",
									"        pm.expect(reader).to.have.property('gdbrconsent');\r",
									"    });\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Email is in a valid format\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"\r",
									"    responseData.forEach(function (reader) {\r",
									"        pm.expect(reader.email).to.be.a('string').and.to.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\r",
									"    });\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"\r",
									"\r",
									"pm.test(\"Response time is less than 200ms\", function () {\r",
									"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "startDate",
									"value": "2024-05-17",
									"type": "text"
								},
								{
									"key": "endDate",
									"value": "2024-05-17",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:5101/api/readers/monthly-lending",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5101",
							"path": [
								"api",
								"readers",
								"monthly-lending"
							]
						}
					},
					"response": []
				},
				{
					"name": "Reader Photo Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 405\", function () {\r",
									"    pm.expect(pm.response.code).to.equal(405);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response has the required fields - type, title, status, detail, and instance\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"\r",
									"    pm.expect(responseData).to.be.an('object');\r",
									"    pm.expect(responseData).to.have.property('type');\r",
									"    pm.expect(responseData).to.have.property('title');\r",
									"    pm.expect(responseData).to.have.property('status');\r",
									"    pm.expect(responseData).to.have.property('detail');\r",
									"    pm.expect(responseData).to.have.property('instance');\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Content type is application/problem+json\", function () {\r",
									"    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/problem+json');\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response time is less than 200ms\", function () {\r",
									"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5101/api/readers/21/photo",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5101",
							"path": [
								"api",
								"readers",
								"21",
								"photo"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "LendingCom",
			"item": [
				{
					"name": "Create Lending",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 201\", function () {",
									"  pm.expect(pm.response.code).to.equal(201);",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									"",
									"pm.test(\"Validate the response schema\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.id).to.exist.and.to.be.a('number');",
									"    pm.expect(responseData.lendingCode).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.readerId).to.exist.and.to.be.a('number');",
									"    pm.expect(responseData.bookId).to.exist.and.to.be.a('number');",
									"    pm.expect(responseData.bookTitle).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.lendDate).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.limitDate).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.returned).to.exist.and.to.be.a('boolean');",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"readerId\": 2,\n  \"bookId\": 6\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:4001/api/lendings",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "4001",
							"path": [
								"api",
								"lendings"
							]
						}
					},
					"response": []
				},
				{
					"name": "Return A Book Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 201\", function () {",
									"  pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response has the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.id).to.exist;",
									"    pm.expect(responseData.lendingCode).to.exist;",
									"    pm.expect(responseData.readerId).to.exist;",
									"    pm.expect(responseData.bookId).to.exist;",
									"    pm.expect(responseData.bookTitle).to.exist;",
									"    pm.expect(responseData.lendDate).to.exist;",
									"    pm.expect(responseData.limitDate).to.exist;",
									"    pm.expect(responseData.returnedDate).to.exist;",
									"    pm.expect(responseData.daysTillReturn).to.exist;",
									"    pm.expect(responseData.daysOverdue).to.exist;",
									"    pm.expect(responseData.fine).to.exist;",
									"    pm.expect(responseData.returned).to.exist;",
									"    pm.expect(responseData.comment).to.exist;",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									"",
									"pm.test(\"ReaderId and bookId are non-negative integers\", function () {",
									"  const responseData = pm.response.json();",
									"",
									"  pm.expect(responseData).to.be.an('object');",
									"  pm.expect(responseData.readerId).to.be.a('number').and.to.be.at.least(0);",
									"  pm.expect(responseData.bookId).to.be.a('number').and.to.be.at.least(0);",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": 24,\n  \"comment\": \"liked it\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:4001/api/lendings/return",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "4001",
							"path": [
								"api",
								"lendings",
								"return"
							]
						}
					},
					"response": [
						{
							"name": "Return A Book Copy",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"id\": 24,\n  \"comment\": \"liked it\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:4001/api/lendings/return",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4001",
									"path": [
										"api",
										"lendings",
										"return"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "Location",
									"value": "http://localhost:4001/api/lendings/return/24"
								},
								{
									"key": "ETag",
									"value": "\"1\""
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Wed, 27 Nov 2024 22:26:18 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": 24,\n    \"lendingCode\": \"2024/24\",\n    \"readerId\": 24,\n    \"bookId\": 24,\n    \"bookTitle\": \"Os Miserveis\",\n    \"lendDate\": \"2024-05-21\",\n    \"limitDate\": \"2024-06-04\",\n    \"returnedDate\": \"2024-11-27\",\n    \"daysTillReturn\": 0,\n    \"daysOverdue\": 176,\n    \"fine\": 176,\n    \"returned\": true,\n    \"comment\": \"liked it\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "LendingQuery",
			"item": [
				{
					"name": "All Lendings Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.expect(pm.response.code).to.equal(200);",
									"});",
									"",
									"pm.test(\"Response has the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('array').that.is.not.empty;",
									"    ",
									"    responseData.forEach(function(item) {",
									"        pm.expect(item).to.include.all.keys(",
									"            'id', 'lendingCode', 'readerId', 'bookId', 'bookTitle', 'lendDate', ",
									"            'limitDate', 'returnedDate', 'daysTillReturn', 'daysOverdue', 'fine', ",
									"            'returned', 'comment'",
									"        );",
									"    });",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									"",
									"pm.test(\"Content-Type header is application/json\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"pm.test(\"Returned field is a boolean value\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    responseData.forEach(function(item) {",
									"        pm.expect(item.returned).to.be.a('boolean');",
									"    });",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:4101/api/lendings",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "4101",
							"path": [
								"api",
								"lendings"
							]
						}
					},
					"response": []
				},
				{
					"name": "Lendings Average Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"  pm.expect(pm.response.code).to.equal(200);",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									"",
									"",
									"pm.test(\"Response has the required Content-Type header of application/json\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:4101/api/lendings/average",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "4101",
							"path": [
								"api",
								"lendings",
								"average"
							]
						}
					},
					"response": []
				},
				{
					"name": "Lending By Id Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData).to.have.property('id');",
									"    pm.expect(responseData).to.have.property('lendingCode');",
									"    pm.expect(responseData).to.have.property('readerId');",
									"    pm.expect(responseData).to.have.property('bookId');",
									"    pm.expect(responseData).to.have.property('bookTitle');",
									"    pm.expect(responseData).to.have.property('lendDate');",
									"    pm.expect(responseData).to.have.property('limitDate');",
									"    pm.expect(responseData).to.have.property('returnedDate');",
									"    pm.expect(responseData).to.have.property('daysTillReturn');",
									"    pm.expect(responseData).to.have.property('daysOverdue');",
									"    pm.expect(responseData).to.have.property('fine');",
									"    pm.expect(responseData).to.have.property('returned');",
									"    pm.expect(responseData).to.have.property('comment');",
									"});",
									"",
									"pm.test(\"Returned date is either null or in a valid date format\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.returnedDate).to.satisfy((date) => {",
									"        return date === null || !isNaN(Date.parse(date));",
									"    }, \"Returned date should be null or in a valid date format\");",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:4101/api/lendings/2",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "4101",
							"path": [
								"api",
								"lendings",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "Average Lending Per Genre Of Certain Month Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.expect(pm.response.code).to.equal(200);",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									"",
									"pm.test(\"Response has a content type of application/json\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"pm.test(\"Response schema is valid JSON\", function () {",
									"  pm.response.to.be.json;",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:4101/api/lendings/average-per-genre/2024-05-01",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "4101",
							"path": [
								"api",
								"lendings",
								"average-per-genre",
								"2024-05-01"
							]
						}
					},
					"response": []
				},
				{
					"name": "Overdue Lendings Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Response has the required fields\", function () {\r",
									"  const responseData = pm.response.json();\r",
									"\r",
									"  pm.expect(responseData).to.be.an('array');\r",
									"  responseData.forEach(function(entry) {\r",
									"    pm.expect(entry).to.have.property('id');\r",
									"    pm.expect(entry).to.have.property('lendingCode');\r",
									"    pm.expect(entry).to.have.property('readerId');\r",
									"    pm.expect(entry).to.have.property('bookId');\r",
									"    pm.expect(entry).to.have.property('bookTitle');\r",
									"    pm.expect(entry).to.have.property('lendDate');\r",
									"    pm.expect(entry).to.have.property('limitDate');\r",
									"    pm.expect(entry).to.have.property('returnedDate');\r",
									"    pm.expect(entry).to.have.property('daysTillReturn');\r",
									"    pm.expect(entry).to.have.property('daysOverdue');\r",
									"    pm.expect(entry).to.have.property('fine');\r",
									"    pm.expect(entry).to.have.property('returned');\r",
									"    pm.expect(entry).to.have.property('comment');\r",
									"  });\r",
									"});\r",
									"\r",
									"pm.test(\"Response time is less than 200ms\", function () {\r",
									"  pm.expect(pm.response.responseTime).to.be.below(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:4101/api/lendings/overdue",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "4101",
							"path": [
								"api",
								"lendings",
								"overdue"
							]
						}
					},
					"response": []
				},
				{
					"name": "Average Lending Duration Per Book Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has the required fields - bookId and averageDuration\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('array');",
									"    responseData.forEach(function(item) {",
									"        pm.expect(item).to.have.property('bookId');",
									"        pm.expect(item).to.have.property('averageDuration');",
									"    });",
									"});",
									"",
									"pm.test(\"Content-Type header is application/json\", function () {",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:4101/api/lendings/average-per-book",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "4101",
							"path": [
								"api",
								"lendings",
								"average-per-book"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Tops",
			"item": [
				{
					"name": "Top Genres Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response has the required fields - id, name, and bookCount\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"    \r",
									"    pm.expect(responseData).to.be.an('array');\r",
									"    responseData.forEach(function(item) {\r",
									"        pm.expect(item).to.have.property('id');\r",
									"        pm.expect(item).to.have.property('name');\r",
									"        pm.expect(item).to.have.property('bookCount');\r",
									"    });\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Name is a non-empty string\", function () {\r",
									"  const responseData = pm.response.json();\r",
									"  \r",
									"  responseData.forEach(function(item) {\r",
									"    pm.expect(item.name).to.be.a('string').and.to.have.lengthOf.at.least(1, \"Name should not be empty\");\r",
									"  });\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Validate the response content type is application/json\", function () {\r",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response time is less than 200ms\", function () {\r",
									"  pm.expect(pm.response.responseTime).to.be.below(200);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:6101/api/tops/top-genres",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "6101",
							"path": [
								"api",
								"tops",
								"top-genres"
							]
						}
					},
					"response": []
				},
				{
					"name": "Top Books Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response time is less than 200ms\", function () {\r",
									"  pm.expect(pm.response.responseTime).to.be.below(200);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response has the required fields\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"    \r",
									"    pm.expect(responseData).to.be.an('array');\r",
									"    responseData.forEach(function(book) {\r",
									"        pm.expect(book).to.have.property('lentCount');\r",
									"        pm.expect(book).to.have.property('id');\r",
									"        pm.expect(book).to.have.property('isbn');\r",
									"        pm.expect(book).to.have.property('title');\r",
									"        pm.expect(book).to.have.property('genre');\r",
									"        pm.expect(book).to.have.property('description');\r",
									"        pm.expect(book).to.have.property('bookAuthors');\r",
									"    });\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Genre name is a non-empty string\", function () {\r",
									"  const responseData = pm.response.json();\r",
									"\r",
									"  pm.expect(responseData).to.be.an('array');\r",
									"  responseData.forEach(function(book) {\r",
									"    pm.expect(book.genre.name).to.be.a('string').and.to.have.lengthOf.at.least(1, \"Genre name should not be empty\");\r",
									"  });\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"BookAuthors array should have non-empty Author and shortBio\", function () {\r",
									"  const responseData = pm.response.json();\r",
									"  \r",
									"  pm.expect(responseData).to.be.an('array');\r",
									"  \r",
									"  responseData.forEach(function(book) {\r",
									"    pm.expect(book.bookAuthors).to.be.an('array');\r",
									"    \r",
									"    book.bookAuthors.forEach(function(author) {\r",
									"      pm.expect(author.author).to.be.a('string').and.to.have.lengthOf.at.least(1, \"Author should not be empty\");\r",
									"      pm.expect(author.shortBio).to.be.a('string').and.to.have.lengthOf.at.least(1, \"ShortBio should not be empty\");\r",
									"    });\r",
									"  });\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:6101/api/tops/top-books",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "6101",
							"path": [
								"api",
								"tops",
								"top-books"
							]
						}
					},
					"response": []
				},
				{
					"name": "Top Readers Per Genre Of a Certain Period Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response has the required fields\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"\r",
									"    pm.expect(responseData).to.be.an('array');\r",
									"    responseData.forEach(function (reader) {\r",
									"        pm.expect(reader).to.have.property('id');\r",
									"        pm.expect(reader).to.have.property('readerCode');\r",
									"        pm.expect(reader).to.have.property('name');\r",
									"        pm.expect(reader).to.have.property('email');\r",
									"        pm.expect(reader).to.have.property('age');\r",
									"        pm.expect(reader).to.have.property('phoneNumber');\r",
									"        pm.expect(reader).to.have.property('interests');\r",
									"        pm.expect(reader).to.have.property('gdbrconsent');\r",
									"    });\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Email is in a valid format\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"\r",
									"    responseData.forEach(function (reader) {\r",
									"        pm.expect(reader.email).to.be.a('string').and.to.match(/^.+@.+\\..+$/, \"Email should be in a valid format\");\r",
									"    });\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Phone number is a non-negative integer\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"\r",
									"    responseData.forEach(function (reader) {\r",
									"        pm.expect(reader.phoneNumber).to.be.a('number').and.to.satisfy((num) => num >= 0, \"Phone number must be a non-negative integer\");\r",
									"    });\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response time is less than 200ms\", function () {\r",
									"    pm.expect(pm.response.responseTime).to.be.below(200);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "startDate",
									"value": "2024-05-15",
									"type": "text"
								},
								{
									"key": "endDate",
									"value": "2024-05-19",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:6101/api/tops/top-readers/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "6101",
							"path": [
								"api",
								"tops",
								"top-readers",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "Top Readers Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Response time is within an acceptable range\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									"",
									"",
									"pm.test(\"Response has the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData).to.be.an('array');",
									"",
									"    responseData.forEach(function (item) {",
									"        pm.expect(item).to.have.property('id');",
									"        pm.expect(item).to.have.property('readerCode');",
									"        pm.expect(item).to.have.property('name');",
									"        pm.expect(item).to.have.property('email');",
									"        pm.expect(item).to.have.property('age');",
									"        pm.expect(item).to.have.property('phoneNumber');",
									"        pm.expect(item).to.have.property('interests');",
									"        pm.expect(item).to.have.property('gdbrconsent');",
									"    });",
									"});",
									"",
									"",
									"pm.test(\"Email is in a valid format\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData).to.be.an('array');",
									"    responseData.forEach(function (reader) {",
									"        pm.expect(reader.email).to.be.a('string').and.to.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);",
									"    });",
									"});",
									"",
									"",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "If-Match",
								"value": "1"
							}
						],
						"url": {
							"raw": "http://localhost:6101/api/tops/top-readers",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "6101",
							"path": [
								"api",
								"tops",
								"top-readers"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Apresentar",
			"item": [
				{
					"name": "Create user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"{{$randomEmail}}\",\r\n    \"fullName\": \"{{$randomUserName}}\",\r\n    \"password\": \"newPassword\",\r\n    \"rePassword\": \"newPassword\",\r\n    \"authorities\": [\r\n        \"ADMIN\"\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:2001/api/auth/register",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "2001",
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Reader With Optional Photo",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "reader",
									"value": "{\n    \"name\": \"Daniel Ribeiro\",\n    \"email\": \"danielribeiro@gmail.com\",\n    \"dateOfBirth\": \"2000-09-20\",\n    \"phoneNumber\": 987654321,\n    \"gdbrconsent\": true\n}",
									"contentType": "application/json",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:5001/api/readers",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"readers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Book With Optional Cover",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 201\", function () {",
									"    pm.expect(pm.response.code).to.equal(201);",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 500ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(500);",
									"});",
									"",
									"",
									"pm.test(\"Validate the response schema for the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.id).to.exist;",
									"    pm.expect(responseData.isbn).to.exist;",
									"    pm.expect(responseData.title).to.exist;",
									"    pm.expect(responseData.genre).to.exist;",
									"    pm.expect(responseData.description).to.exist;",
									"    pm.expect(responseData.bookAuthors).to.exist;",
									"});",
									"",
									"",
									"pm.test(\"Ensure that the genre name is a non-empty string\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.genre.name).to.be.a('string').and.to.have.lengthOf.at.least(1, \"Genre name should not be empty\");",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "book",
									"value": "{\n    \"isbn\": \"9783163119604\",\n    \"title\": \"Sample Book\",\n    \"genre\": {\n        \"id\": 3,\n        \"name\": \"Mystery\"\n    },\n    \"description\": \"A sample book description\",\n    \"bookAuthors\": [\n        {\n            \"author\": {\n                \"name\": \"James Clear\",\n                \"shortBio\": \"An author and speaker focused on habits, decision-making, and continuous improvement.\"\n            }\n        },\n        {\n            \"author\": {\n                \"name\": \"Stephen R. Covey\",\n                \"shortBio\": \"An American educator, author, businessman, and keynote speaker.\"\n            }\n        }\n    ]\n}",
									"contentType": "application/json",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:3001/api/books",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3001",
							"path": [
								"api",
								"books"
							]
						}
					},
					"response": [
						{
							"name": "Create Book With Optional Cover Copy",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "book",
											"value": "{\n    \"isbn\": \"9798666830864\",\n    \"title\": \"Bal Book\",\n    \"genre\": {\n        \"id\": 3,\n        \"name\": \"Mystery\"\n    },\n    \"description\": \"A sample book description\",\n    \"bookAuthors\": [\n        {\n            \"author\": {\n                \"name\": \"James Clear\",\n                \"shortBio\": \"An author and speaker focused on habits, decision-making, and continuous improvement.\"\n            }\n        },\n        {\n            \"author\": {\n                \"name\": \"Stephen R. Covey\",\n                \"shortBio\": \"An American educator, author, businessman, and keynote speaker.\"\n            }\n        }\n    ]\n}",
											"contentType": "application/json",
											"type": "text"
										},
										{
											"key": "cover",
											"type": "file",
											"src": "postman-cloud:///1ef227e9-07dc-4540-b53c-be9fc9eea1d3"
										}
									]
								},
								"url": {
									"raw": "http://localhost:3001/api/books",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "3001",
									"path": [
										"api",
										"books"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "Location",
									"value": "http://localhost:3001/api/books/21"
								},
								{
									"key": "ETag",
									"value": "\"0\""
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Wed, 27 Nov 2024 22:09:56 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": 21,\n    \"isbn\": \"9798666830864\",\n    \"title\": \"Sample Book\",\n    \"genre\": {\n        \"name\": \"Mystery\"\n    },\n    \"description\": \"A sample book description\",\n    \"bookAuthors\": []\n}"
						}
					]
				},
				{
					"name": "Create Lending",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 201\", function () {",
									"  pm.expect(pm.response.code).to.equal(201);",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									"",
									"pm.test(\"Validate the response schema\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.id).to.exist.and.to.be.a('number');",
									"    pm.expect(responseData.lendingCode).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.readerId).to.exist.and.to.be.a('number');",
									"    pm.expect(responseData.bookId).to.exist.and.to.be.a('number');",
									"    pm.expect(responseData.bookTitle).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.lendDate).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.limitDate).to.exist.and.to.be.a('string');",
									"    pm.expect(responseData.returned).to.exist.and.to.be.a('boolean');",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"readerId\": 20,\n  \"bookId\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:4001/api/lendings",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "4001",
							"path": [
								"api",
								"lendings"
							]
						}
					},
					"response": []
				},
				{
					"name": "Lending By Id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData).to.have.property('id');",
									"    pm.expect(responseData).to.have.property('lendingCode');",
									"    pm.expect(responseData).to.have.property('readerId');",
									"    pm.expect(responseData).to.have.property('bookId');",
									"    pm.expect(responseData).to.have.property('bookTitle');",
									"    pm.expect(responseData).to.have.property('lendDate');",
									"    pm.expect(responseData).to.have.property('limitDate');",
									"    pm.expect(responseData).to.have.property('returnedDate');",
									"    pm.expect(responseData).to.have.property('daysTillReturn');",
									"    pm.expect(responseData).to.have.property('daysOverdue');",
									"    pm.expect(responseData).to.have.property('fine');",
									"    pm.expect(responseData).to.have.property('returned');",
									"    pm.expect(responseData).to.have.property('comment');",
									"});",
									"",
									"pm.test(\"Returned date is either null or in a valid date format\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.returnedDate).to.satisfy((date) => {",
									"        return date === null || !isNaN(Date.parse(date));",
									"    }, \"Returned date should be null or in a valid date format\");",
									"});",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:4101/api/lendings/20",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "4101",
							"path": [
								"api",
								"lendings",
								"20"
							]
						}
					},
					"response": []
				},
				{
					"name": "Book By ISBN",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Response time is less than 200ms\", function () {",
									"  pm.expect(pm.response.responseTime).to.be.below(200);",
									"});",
									"",
									"",
									"pm.test(\"Response has the required fields\", function () {",
									"    const responseData = pm.response.json();",
									"    ",
									"    pm.expect(responseData).to.be.an('object');",
									"    pm.expect(responseData.id).to.exist;",
									"    pm.expect(responseData.isbn).to.exist;",
									"    pm.expect(responseData.title).to.exist;",
									"    pm.expect(responseData.genre).to.exist;",
									"    pm.expect(responseData.description).to.exist;",
									"    pm.expect(responseData.bookAuthors).to.exist;",
									"});",
									"",
									"",
									"pm.test(\"Genre object contains the required field 'name'\", function () {",
									"  const responseData = pm.response.json();",
									"  ",
									"  pm.expect(responseData).to.be.an('object');",
									"  pm.expect(responseData.genre).to.exist;",
									"  pm.expect(responseData.genre.name).to.exist;",
									"});",
									"",
									"",
									"pm.test(\"BookAuthors array should contain 'author' and 'shortBio'\", function () {",
									"    const responseData = pm.response.json();",
									"",
									"    pm.expect(responseData.bookAuthors).to.be.an('array');",
									"    responseData.bookAuthors.forEach(function(author){",
									"        pm.expect(author).to.have.property('author');",
									"        pm.expect(author).to.have.property('shortBio');",
									"    });",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:3101/api/books/9783163119604",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3101",
							"path": [
								"api",
								"books",
								"9783163119604"
							]
						}
					},
					"response": []
				},
				{
					"name": "Top Books",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response time is less than 200ms\", function () {\r",
									"  pm.expect(pm.response.responseTime).to.be.below(200);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Response has the required fields\", function () {\r",
									"    const responseData = pm.response.json();\r",
									"    \r",
									"    pm.expect(responseData).to.be.an('array');\r",
									"    responseData.forEach(function(book) {\r",
									"        pm.expect(book).to.have.property('lentCount');\r",
									"        pm.expect(book).to.have.property('id');\r",
									"        pm.expect(book).to.have.property('isbn');\r",
									"        pm.expect(book).to.have.property('title');\r",
									"        pm.expect(book).to.have.property('genre');\r",
									"        pm.expect(book).to.have.property('description');\r",
									"        pm.expect(book).to.have.property('bookAuthors');\r",
									"    });\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Genre name is a non-empty string\", function () {\r",
									"  const responseData = pm.response.json();\r",
									"\r",
									"  pm.expect(responseData).to.be.an('array');\r",
									"  responseData.forEach(function(book) {\r",
									"    pm.expect(book.genre.name).to.be.a('string').and.to.have.lengthOf.at.least(1, \"Genre name should not be empty\");\r",
									"  });\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"BookAuthors array should have non-empty Author and shortBio\", function () {\r",
									"  const responseData = pm.response.json();\r",
									"  \r",
									"  pm.expect(responseData).to.be.an('array');\r",
									"  \r",
									"  responseData.forEach(function(book) {\r",
									"    pm.expect(book.bookAuthors).to.be.an('array');\r",
									"    \r",
									"    book.bookAuthors.forEach(function(author) {\r",
									"      pm.expect(author.author).to.be.a('string').and.to.have.lengthOf.at.least(1, \"Author should not be empty\");\r",
									"      pm.expect(author.shortBio).to.be.a('string').and.to.have.lengthOf.at.least(1, \"ShortBio should not be empty\");\r",
									"    });\r",
									"  });\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:6101/api/top/top-books",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "6101",
							"path": [
								"api",
								"top",
								"top-books"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}